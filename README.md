## Идея решения
Проект представляет собой модуль учета финансов для банковского приложения, разработанный с использованием принципов
SOLID и GRASP, а также паттернов проектирования GoF. Основная цель — предоставить пользователям инструменты для
управления счетами, категориями и операциями, а также аналитику финансовых данных.

**Основной функционал:**

- CRUD операции над `BankAccount`, `Operation`, `Category`
- Аналитика операций

---

## Зависимости

Для работы приложения необходимы:
- [CsvHelper](https://www.nuget.org/packages/CsvHelper) (для работы с CSV-файлами) 
- [Microsoft.Extensions.DependencyInjection](https://www.nuget.org/packages/Microsoft.Extensions.DependencyInjection) (DI-контейнер)
- [YamlDotNet](https://www.nuget.org/packages/YamlDotNet) (для работы с YAML-файлами)

Для тестов необходимы:
- [Moq](https://www.nuget.org/packages/Moq) (библиотека для мок-объектов)
- [xUnit](https://www.nuget.org/packages/xunit) (фреймворк для написания и выполнения тестов)
- [xUnit.runner.visualstudio](https://www.nuget.org/packages/xunit.runner.visualstudio) (адаптер для интеграции xUnit с .NET SDK)
- [Microsoft.NET.Test.Sdk](https://www.nuget.org/packages/Microsoft.NET.Test.Sdk) (основной SDK для работы с тестами в .NET)

---

## Инструкция по запуску

1. Клонируйте репозиторий:
   ```shell
   git clone https://github.com/RINAY112/finance-accounting
   ```

2. Запустите приложение:
   ```shell
   dotnet run --project FinanceAccounting
   ```

### Запуск посредством IDE может привести к проблемам с работой, если IDE перехватывает нажатие клавиш

---

## Тесты

```bash
dotnet test
```

---

### GoF

| **Паттерн**         | **Задача**                                                                                                                       | **Пример**       |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------|------------------|
| **Шаблонный метод** | Выделение общей логики импорта/экспорта для разных форматов.                                                                     | JsonImporter     |
| **Фабрика**         | Централизованный механизм создания объектов, гарантирующий их валидность                                                         | OperationFactory |
| **Стратегия**       | Каждый импортёр/экспортёр представляет собой стратегию. DataTransferManager выбирает нужную стратегию на основе расширения файла | YamlImporter     |
| **Фасад**           | Упрощение взаимодействия с подсистемой (сервисами, менеджерами данных)                                                           | AnalyticsFacade  |
| **Адаптер**         | Адаптация доменные моделей к требованиям внешних библиотек/форматов                                                              | CsvExporter      |



### SOLID 

| **Принцип** | **Пример**                                                                                            |
|-------------|-------------------------------------------------------------------------------------------------------|
| **SRP**     | Каждый сервис (`BankAccountService`, `OperationService`) отвечает за одну задачу                      |
| **OCP**     | Добавление нового формата импорта (например, XML) не требует изменения базового класса `DataImporter` |
| **LSP**     | Все импортеры/экспортеры реализуют интерфейсы `IDataImporter`/`IDataExporter` и взаимозаменяемы       |
| **ISP**     | Разделения интерфейсов по ответственности (импорт ↔ экспорт, категории ↔ счета)                       |
| **DIP**     | Сервисы зависят от абстракций (интерфейсов), а не от конкретных реализаций                            |

### GRASP

| **Принцип**            | **Использование**                                                                                                                                                                                                                             |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **HC**                 | Класс `BankAccountService` отвечает только за управление счетами: создание, изменение баланса, валидацию операций. Класс `AnalyticsService` занимается исключительно расчетом аналитики (разница доходов/расходов, группировка по категориям) | 
| **LC**                 | Импортёры/экспортёры (`CsvImporter`, `JsonExporter`) зависят от абстракций (`IDataImporter`, `IDataExporter`), что позволяет заменять их без изменения кода клиентов                                                                          |
| **Information Expert** | `AnalyticsService` вычисляет статистику, так как имеет доступ к данным операций и категорий                                                                                                                                                   |
| **Creator**            | `CsvImporter` создает DTO из CSV-файла, так как он имеет доступ к данным файла                                                                                                                                                                |
| **Controller**         | `FinanceFacade` выступает в роли контроллера: он принимает команды от пользователя и делегирует их выполнение сервисам и менеджерам                                                                                                           |  

---

### DTO

Data Transfer Objects - это объекты, предназначенные для передачи данных между слоями приложения, например, из слоя данных в доменный слой.
Это вынужденное решение, поскольку все встроенные десериализаторы, используемые в проекте, работают с публичными 
сеттерами для свойств, а публичные сеттеры для, например, Id или Amount доменных моделей - нарушение инкапсуляции.